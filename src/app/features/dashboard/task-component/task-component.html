@if (task(); as currentTask) {
<div class="group" cdkDrag [cdkDragData]="currentTask">
    <app-click-action-component (rightClick)="handleRightClick($event)" (doubleClick)="openEditModal()">
        <div
            class="du-mockup-code bg-primary/90 text-primary-content hover:bg-accent hover:text-accent-content cursor-grab rounded-lg p-3 shadow-md transition-all duration-300 hover:shadow-lg active:cursor-grabbing">
            <pre data-prefix="ttl"><code class="font-bold text-sm">{{ currentTask.title }}</code></pre>
            <pre data-prefix="dsc"><code class="text-sm opacity-90">{{ currentTask.description }}</code></pre>
            <pre
                data-prefix="tag"><code class="text-xs"><span class="du-badge du-badge-accent du-badge-sm">{{ currentTask.tag }}</span></code></pre>
        </div>
    </app-click-action-component>
</div>

<!-- Actions Modal -->
<app-modal-component [modalId]="actionsModalId()" (openModal)="openActionsModal()">
    <app-delete-element-confirm [title]="'Task Actions'" [buttonText]="'Delete Task'"
        (confirmDelete)="handleDelete()" />
</app-modal-component>

<!-- Edit Modal -->
<app-modal-component [modalId]="editModalId()" (openModal)="openEditModal()">
    <app-unified-form [config]="taskFormConfig" [data]="currentTask" (formSubmit)="handleTaskUpdate($event)" />
</app-modal-component>
}